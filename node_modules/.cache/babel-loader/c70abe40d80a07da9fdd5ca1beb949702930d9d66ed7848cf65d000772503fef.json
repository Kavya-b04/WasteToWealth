{"ast":null,"code":"export const initialState={basket:[],user:null};export const getBasketTotal=basket=>basket===null||basket===void 0?void 0:basket.reduce((amount,item)=>item.price+amount,0);const reducer=(state,action)=>{console.log(action);switch(action.type){case\"SET_USER\":return{...state,user:action.user};case'ADD_TO_BASKET'://LOgic for adding item to basket\nreturn{...state,basket:[...state.basket,action.item]};case'REMOVE_FROM_BASKET'://logic for Removing\n//we cloned the basket\nlet newBasket=[...state.basket];const index=state.basket.findIndex(basketItem=>basketItem.id===action.id);if(index>=0){newBasket.splice(index,1);}else{console.warn(\"Cannt remove product (id :\".concat(action.id,\" as its not found)\"));}return{...state,basket:newBasket};default:return state;}};export default reducer;","map":{"version":3,"names":["initialState","basket","user","getBasketTotal","reduce","amount","item","price","reducer","state","action","console","log","type","newBasket","index","findIndex","basketItem","id","splice","warn","concat"],"sources":["C:/Users/LENOVO/WasteToWealth/reactfirst/src/reducer.js"],"sourcesContent":["export const initialState={\r\n    basket:[],\r\n    user:null,\r\n    \r\n};\r\n\r\nexport const getBasketTotal = (basket) =>\r\n    basket?.reduce((amount,item) => item.price +amount,0); \r\n\r\nconst reducer = (state,action) => {\r\n    console.log(action);\r\n    switch(action.type){\r\n\r\n        case \"SET_USER\":\r\n            return{\r\n                ...state,\r\n                user:action.user,\r\n            };\r\n\r\n\r\n        case 'ADD_TO_BASKET':\r\n            //LOgic for adding item to basket\r\n            return {\r\n                ...state,\r\n                basket: [...state.basket,action.item]\r\n            };\r\n                \r\n        \r\n        case 'REMOVE_FROM_BASKET':\r\n            //logic for Removing\r\n\r\n            //we cloned the basket\r\n            let newBasket = [...state.basket];\r\n            const index = state.basket.findIndex((basketItem) => basketItem.id === action.id)\r\n    \r\n            if(index >= 0){\r\n                newBasket.splice(index,1);\r\n               \r\n\r\n            }  else{\r\n                console.warn(\r\n                     `Cannt remove product (id :${action.id} as its not found)`\r\n                );\r\n            }\r\n\r\n            return {...state,basket:newBasket}; \r\n        \r\n        default:\r\n            return state;       \r\n    }\r\n}\r\n\r\nexport default reducer;"],"mappings":"AAAA,MAAO,MAAM,CAAAA,YAAY,CAAC,CACtBC,MAAM,CAAC,EAAE,CACTC,IAAI,CAAC,IAET,CAAC,CAED,MAAO,MAAM,CAAAC,cAAc,CAAIF,MAAM,EACjCA,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEG,MAAM,CAAC,CAACC,MAAM,CAACC,IAAI,GAAKA,IAAI,CAACC,KAAK,CAAEF,MAAM,CAAC,CAAC,CAAC,CAEzD,KAAM,CAAAG,OAAO,CAAGA,CAACC,KAAK,CAACC,MAAM,GAAK,CAC9BC,OAAO,CAACC,GAAG,CAACF,MAAM,CAAC,CACnB,OAAOA,MAAM,CAACG,IAAI,EAEd,IAAK,UAAU,CACX,MAAM,CACF,GAAGJ,KAAK,CACRP,IAAI,CAACQ,MAAM,CAACR,IAChB,CAAC,CAGL,IAAK,eAAe,CAChB;AACA,MAAO,CACH,GAAGO,KAAK,CACRR,MAAM,CAAE,CAAC,GAAGQ,KAAK,CAACR,MAAM,CAACS,MAAM,CAACJ,IAAI,CACxC,CAAC,CAGL,IAAK,oBAAoB,CACrB;AAEA;AACA,GAAI,CAAAQ,SAAS,CAAG,CAAC,GAAGL,KAAK,CAACR,MAAM,CAAC,CACjC,KAAM,CAAAc,KAAK,CAAGN,KAAK,CAACR,MAAM,CAACe,SAAS,CAAEC,UAAU,EAAKA,UAAU,CAACC,EAAE,GAAKR,MAAM,CAACQ,EAAE,CAAC,CAEjF,GAAGH,KAAK,EAAI,CAAC,CAAC,CACVD,SAAS,CAACK,MAAM,CAACJ,KAAK,CAAC,CAAC,CAAC,CAG7B,CAAC,IAAM,CACHJ,OAAO,CAACS,IAAI,8BAAAC,MAAA,CACsBX,MAAM,CAACQ,EAAE,sBAC3C,CAAC,CACL,CAEA,MAAO,CAAC,GAAGT,KAAK,CAACR,MAAM,CAACa,SAAS,CAAC,CAEtC,QACI,MAAO,CAAAL,KAAK,CACpB,CACJ,CAAC,CAED,cAAe,CAAAD,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}